<!DOCTYPE html>
<html>
<head>
<title>Ajax Login over Secure and Non-Secure Domain</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1, maximum-scale=1" />
<link rel="stylesheet" href="stylesheets/template.css">
<link rel="stylesheet" href="stylesheets/demo.css">
<link href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="js/jquery.magnific-popup.min.js"></script>
</head>

<body>
<div class="root"> 
  <!-- Begin Header -->
  <header id="nav"> 
    <!--Begin Logo-->
    <div id="logo"> <a href="{module_pageaddress}"><img alt="BC Academe Logo" src="https://bcacademe20.worldsecuresystems.com/images/template/bc-academe-logo.svg" width="210" height="35"> </a> </div>
    <!--End Logo--> 
  </header>
  <!-- End Header --> 
  <!-- Begin Body Wrapper -->
  <div class="wrapper">
    <div class="container">
      <div class="main">
        <div class="row column">
          <h1 class="mb10">Ajax Login over Secure and Non-Secure Domain</h1>
          {% if globals.user.isLoggedIn -%}
          <h2 class="subheader mb6">Hello {module_firstname}</h2>
          {% endif -%} 
          <!--Begin Pop Up Login Form-->
          <p class="mb8"><a class="js-login-popup" href="/_ajax/login-form-with-reset"><i class="fa fa-lock" aria-hidden="true"></i> <strong>Login</strong></a></p>
          <!--End Pop Up Login Form--> 
          <!--Begin Login Form--> 
          <script type="text/javascript" src="/CatalystScripts/ValidationFunctions.js?vs=b2194.r501803-phase1"></script>
          <form class="js-login-form" onsubmit="return checkWholeForm84228(this)">
            <div class="js-login-alert alert"></div>
            <div class="row">
              <div class="large-12 columns">
                <label>Email Address <span class="req">*</span></label>
                <input type="email" name="Username" autocomplete="off">
              </div>
            </div>
            <div class="row">
              <div class="large-12 columns">
                <label>Password <span class="req">*</span></label>
                <input type="password" name="Password" autocomplete="off">
              </div>
            </div>
            <div class="row">
              <div class="large-12 columns">
                <label>
                  <input type="checkbox" name="RememberMe" checked="checked" />
                  Remember Me </label>
              </div>
            </div>
            <div class="row">
              <div class="large-12 columns">
                <button type="submit" class="button">Log In</button>
              </div>
            </div>
            <script type="text/javascript">
						function checkWholeForm84228(theForm) {
								var why = "";
								if (theForm.Username) why += isEmpty(theForm.Username.value, "Username");
								if (theForm.Password) why += isEmpty(theForm.Password.value, "Password");
								if (why != "") {
										alert(why);
										return false;
								}
								// Once Validation is complete run ajax_login function
								ajax_login();
								return false;
						}
						</script> 
            <!--End Login Form-->
          </form>
          <!--Begin Forgot Password-->
          <div class="slide-toggle-container">
            <div class="row">
              <div class="large-12 columns">
                <p><a class="slide-toggle" href="#">Lost password?</a></p>
                <div class="slide-content">
                  <p>Enter your email address and we'll send you instructions on how to reset your password.</p>
                  <form class="js-password-reset">
                    <div class="js-reset-alert alert"></div>
                    <input type="email" name="Username" placeholder="Email Address" autocomplete="off">
                    <button type="submit" class="button secondary">Retrieve</button>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <!--End Forgot Password--> 
        </div>
      </div>
    </div>
  </div>
</div>
<!--Begin Domain and Account Settings-->
<div class="js-domain-data" data-account-url="/account" data-secure-domain="domain.worldsecuresystems.com" data-non-secure-domain="domain.com" style="display:none"></div>
<!--End Domain and Account Settings--> 
<!--Begin Login Script--> 
<script src="js/bca-login.js"></script> 
<script src="js/bca-pw-reset.js"></script> 
<!--End Login Script-->
</body>
</html>